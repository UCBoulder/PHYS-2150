{
  "version": "2026-spring-full",
  "jv": {
    "defaults": {
      "start_voltage": -0.2,
      "stop_voltage": 1.5,
      "step_voltage": 0.02,
      "cell_number": "",
      "pixel_number": 1
    },
    "measurement": {
      "num_measurements": 10,
      "source_delay_s": 0.05,
      "nplc": 1.0,
      "averaging_count": 1,
      "averaging_filter": "REPEAT",
      "initial_stabilization_s": 2.0,
      "inter_sweep_delay_s": 2.0,
      "plot_update_interval": 1,
      "current_range": 10,
      "voltage_range": 2,
      "current_compliance": 1,
      "remote_sensing": true,
      "voltage_decimals": 2,
      "current_quantize_precision": "0.00001"
    },
    "stability_test": {
      "default_target_voltage": 0.5,
      "default_duration_min": 5,
      "duration_range": [1, 60],
      "default_interval_sec": 2,
      "interval_range": [0.5, 60],
      "target_stabilization_s": 5.0,
      "num_measurements": 10,
      "nplc": 1.0,
      "averaging_count": 1,
      "averaging_filter": "REPEAT",
      "source_delay_s": 0.05,
      "current_range": 10,
      "voltage_range": 2,
      "current_compliance": 1,
      "remote_sensing": true
    },
    "quality_thresholds": {
      "excellent": 0.1,
      "good": 0.5,
      "fair": 2.0
    },
    "device": {
      "timeout_ms": 30000,
      "usb_id_pattern": "USB0::0x05E6::0x2450",
      "write_termination": "\n",
      "read_termination": "\n"
    },
    "gui": {
      "window_title": "PHYS 2150 J-V Characterization",
      "window_size": [1200, 800],
      "window_min_size": [800, 600],
      "input_panel_width_fraction": 0.1,
      "plot_figsize": [14, 14],
      "plot_dpi": 100,
      "plot_min_size": [525, 525],
      "plot_max_size": [700, 700],
      "font_sizes": {
        "label": 14,
        "button": 14,
        "input": 14,
        "plot_title": 10,
        "plot_axis": 10,
        "plot_tick": 8,
        "plot_legend": 10
      },
      "colors": {
        "forward_scan": "#0077BB",
        "reverse_scan": "#EE7733",
        "start_button": "#CCDDAA",
        "stop_button": "#FFCCCC"
      }
    },
    "export": {
      "default_format": "csv",
      "csv_delimiter": ",",
      "voltage_precision": 2,
      "current_precision": 5,
      "date_format": "%Y_%m_%d",
      "file_template": "{date}_IV_cell{cell_number}_pixel{pixel_number}.csv",
      "headers": {
        "voltage": "Voltage (V)",
        "forward_current": "Forward Scan (mA)",
        "forward_std": "Forward Std (mA)",
        "forward_n": "Forward n",
        "reverse_current": "Reverse Scan (mA)",
        "reverse_std": "Reverse Std (mA)",
        "reverse_n": "Reverse n"
      },
      "headers_raw": {
        "direction": "Direction",
        "voltage": "Voltage (V)",
        "current": "Current (mA)",
        "std": "Std (mA)",
        "n": "n"
      },
      "stability_file_template": "{date}_IV_stability_cell{cell_number}_pixel{pixel_number}.csv",
      "headers_stability": {
        "timestamp": "Timestamp (s)",
        "voltage": "Voltage (V)",
        "current": "Current (mA)"
      }
    },
    "validation": {
      "cell_number": "^[A-Z]\\d{2}$",
      "cell_input": {
        "pattern": "[A-Z][0-9]{2}",
        "placeholder": "A00",
        "example": "A12",
        "error": "Enter a letter + 2 digits (e.g., A03)"
      },
      "pixel_range": [1, 8],
      "voltage_bounds": {
        "min_start": -1.0,
        "max_stop": 2.0,
        "min_step": 0.001,
        "max_step": 0.5
      }
    },
    "error_messages": {
      "device_not_found": "Keithley 2450 device not found. Please connect and power on the device and try again.",
      "invalid_voltages": "Please enter valid numerical values for voltages and step size.",
      "invalid_cell_number": "Cell number must be a letter + 2 digits (e.g., A03, R26).",
      "invalid_pixel_number": "Pixel number must be between {min} and {max}.",
      "measurement_failed": "Measurement failed. Please check device connections.",
      "file_save_failed": "Failed to save file. Please check permissions and disk space."
    }
  },
  "eqe": {
    "defaults": {
      "start_wavelength": 350.0,
      "end_wavelength": 730.0,
      "step_size": 10.0,
      "cell_number": "",
      "pixel_number": 1
    },
    "power_measurement": {
      "num_measurements": 200,
      "correction_factor": 2.0,
      "stabilization_time": 0.2
    },
    "current_measurement": {
      "num_measurements": 5,
      "transimpedance_gain": 1e-6,
      "stabilization_time": 0.2,
      "initial_stabilization_time": 1.0
    },
    "phase_adjustment": {
      "alignment_wavelength": 532,
      "min_r_squared": 0.90,
      "num_visualization_points": 37,
      "stabilization_time": 1.0
    },
    "stability_test": {
      "initial_stabilization_time": 2.0,
      "outlier_rejection_std": 2.0,
      "default_wavelength": 550,
      "default_duration_min": 5,
      "duration_range": [1, 60],
      "default_interval_sec": 2,
      "interval_range": [1, 60]
    },
    "quality_thresholds": {
      "power": {
        "excellent": 1.5,
        "good": 2.5,
        "fair": 4.0,
        "low_signal_threshold": null
      },
      "current": {
        "excellent": 0.5,
        "good": 2.0,
        "fair": 15.0,
        "low_signal_threshold": 5e-9
      }
    },
    "devices": {
      "thorlabs_power_meter": {
        "timeout": 5.0
      },
      "monochromator": {
        "interface": "usb",
        "timeout_msec": 29000,
        "grating_wavelength_threshold": 685,
        "wavelength_range": [200, 1200]
      },
      "picoscope_lockin": {
        "default_chopper_freq": 81,
        "chopper_freq_tolerance": 0.15,
        "min_reference_amplitude": 1.0,
        "default_num_cycles": 12,
        "fast_measurement_cycles": 5,
        "num_measurements": 5,
        "saturation_threshold_v": 0.95,
        "signal_quality_reference_v": 0.1,
        "correction_factor": 0.5
      }
    },
    "filter": {
      "threshold_lower": 420,
      "threshold_upper": 800,
      "positions": {
        "1": {"name": "400 nm filter"},
        "2": {"name": "780 nm filter"},
        "3": {"name": "no filter"}
      }
    },
    "lockinlab": {
      "waveform_display_points": 10000,
      "fft_max_frequency": 200
    },
    "gui": {
      "window_title": "PHYS 2150 EQE Measurement - MVC Architecture",
      "window_size": [1400, 750],
      "window_min_size": [1000, 600],
      "plot_size": [300, 300],
      "plot_max_size": [400, 400],
      "live_monitor_interval_ms": 500,
      "font_sizes": {
        "label": 14,
        "button": 14,
        "plot_title": 10,
        "plot_axis": 10,
        "plot_tick": 8
      },
      "colors": {
        "start_button": "#CCDDAA",
        "stop_button": "#FFCCCC",
        "plot_line": "#0077BB"
      },
      "prompt_phase_data_save": false
    },
    "export": {
      "default_format": "csv",
      "csv_delimiter": ",",
      "precision": 6,
      "include_measurement_stats": true,
      "date_format": "%Y_%m_%d",
      "power_file_template": "{date}_power_cell{cell_number}.csv",
      "current_file_template": "{date}_current_cell{cell_number}_pixel{pixel_number}.csv",
      "phase_file_template": "{date}_phase_cell{cell_number}.csv",
      "headers": {
        "power": ["Wavelength (nm)", "Power (uW)"],
        "power_with_stats": ["Wavelength (nm)", "Power_mean (uW)", "Power_std (uW)", "n"],
        "current": ["Wavelength (nm)", "Current (nA)"],
        "current_with_stats": ["Wavelength (nm)", "Current_mean (nA)", "Current_std (nA)", "n"],
        "phase": ["Pixel #", "Set Angle", "Signal", "R^2 Value"]
      }
    },
    "validation": {
      "cell_number": "^[A-Z]\\d{2}$",
      "cell_input": {
        "pattern": "[A-Z][0-9]{2}",
        "placeholder": "A00",
        "example": "A12",
        "error": "Enter a letter + 2 digits (e.g., A03)"
      },
      "pixel_range": [1, 8]
    },
    "error_messages": {
      "device_not_found": "Device not found. Please check the connection.",
      "invalid_cell_number": "Cell number must be a letter + 2 digits (e.g., A03, R26).",
      "invalid_pixel_number": "Pixel number must be between {min} and {max}.",
      "measurement_failed": "Measurement failed. Please check device connections.",
      "file_save_failed": "Failed to save file. Please check permissions and disk space.",
      "low_r_squared": "Is the lamp on? If it is, pixel {pixel} might be dead. Check in with a TA."
    }
  },
  "_documentation": {
    "version": "Format: YYYY-semester-descriptor (e.g., 2026-spring-full)",
    "jv.measurement.nplc": "Integration time as Number of Power Line Cycles. At 60 Hz: NPLC 1 = 16.7ms",
    "jv.measurement.source_delay_s": "Device-native delay after setting voltage (seconds)",
    "jv.quality_thresholds": "SEM% thresholds: <excellent = excellent, <good = good, <fair = fair, else check measurement",
    "eqe.filter.threshold_lower": "Below this wavelength: no filter needed (no 2nd order overlap)",
    "eqe.filter.threshold_upper": "Above this wavelength: use 780nm longpass filter",
    "eqe.devices.picoscope_lockin.correction_factor": "Amplitude correction for Hilbert transform algorithm (0.5 compensates for RMS normalization)"
  }
}
